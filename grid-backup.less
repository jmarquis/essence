// This file is based on Bootstrap 3
// Margins are tweaked to account for custom grid in PSD.

#grid {

	@total-columns: 12;

	@xl-context-gutter: 20px;
	@large-context-gutter: 20px;
	@med-context-gutter: 12px;
	@small-context-gutter: 0;
	
	@float-breakpoint: @med-context-min;

	.row () {
		.clearfix();
	}

	.column (@columns) {
		@media (min-width: @float-breakpoint) {
			float: left;
			width: percentage(@columns / @total-columns);
		}

		// Prevent columns from collapsing when empty
		min-height: 1px;

		// Gutters - use large context by default
		padding-left: (@large-context-gutter / 2);
		padding-right: (@large-context-gutter / 2);

		@media (min-width: @xl-context-min) {
			padding-left: (@xl-context-gutter / 2);
			padding-right: (@xl-context-gutter / 2);
		}

		@media (min-width: @med-context-min) and (max-width: @med-context-max) {
			padding-left: (@med-context-gutter / 2);
			padding-right: (@med-context-gutter / 2);
		}

		@media (max-width: @small-context-max) {
			padding-left: (@small-context-gutter / 2);
			padding-right: (@small-context-gutter / 2);
		}
	}
	
	// disable floats at 100% width
	.column (12) {
		@media (min-width: @float-breakpoint) {
			float: none;
		}
	}

	// Generate the column offsets
	.offset (@columns) {
		@media (min-width: @float-breakpoint) {
			margin-left: percentage((@columns / @total-columns));
		}
	}
}